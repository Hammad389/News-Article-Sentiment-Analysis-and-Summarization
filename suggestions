community = session_mutiple.query(CommunityData).filter_by(name=item['community_name']).first()

if community:
    community.community_address = item.get('community_address')
    community.community_rent = item.get('community_rent')
    community.community_rooms = item.get('community_rooms')
    community.community_description = item.get('community_description')
    community.community_amenities = ', '.join(item.get('community_amenities', [])) if item.get('community_amenities') else ''
else:
    community = CommunityData(
        community_name=item.get('community_name'),
        community_address=item.get('community_address'),
        community_rent=item.get('community_rent'),
        community_rooms=item.get('community_rooms'),
        community_description=item.get('community_description'),
        community_amenities=', '.join(item.get('community_amenities', [])) if item.get('community_amenities') else ''
    )
    session_mutiple.add(community)

session_mutiple.commit()
